!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("GOKUAI",[],t):"object"==typeof exports?exports.GOKUAI=t():e.GOKUAI=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=53)}([function(e,t,n){"use strict";function i(e,t,n,i,o,r,s,a){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.r(t);var i=n(37),o=n(10);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="menu-item.vue",t.default=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=s(n(1)),r=s(n(28));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkMenu",components:{GkMenuItem:o.default,GkSubmenu:r.default},props:{target:String,"show-arrow":Boolean,trigger:{type:String,default:"click"},placement:{type:String,default:"bottom-start"},data:Array},data:function(){return{dom:null,menu:null,position:null,visible:!1,timer:0}},render:function(e){var t=[];return void 0!==this.data?this.data.forEach(function(n){n.divided&&t.push(e("li",{class:"gk-menu-divided"})),"object"===i(n.children)?t.push(e("gk-menu-item",{props:n},[n.label,e("gk-submenu",{props:{data:n.children}})])):t.push(e("gk-menu-item",{props:n},n.label))}):this.$slots.default&&this.$slots.default.forEach(function(n){void 0!==n.componentOptions.propsData.divided&&t.push(e("li",{class:"gk-menu-divided"})),t.push(n)}),this.showArrow&&t.push(e("div",{class:"gk-menu-arrow",ref:"arrow"})),e("ul",{class:"gk-menu"},t)},computed:{dropdown:function(){var e=this.$parent;return e&&"gk-dropdown"===e.$el.className?e:null}},methods:{handleCommand:function(e){this.$emit("command",e),this.dropdown&&this.dropdown.$emit("command",e),this.hideMenu()},show:function(e){e instanceof MouseEvent?this.position={left:e.clientX,top:e.clientY,height:0,width:0}:this.dom=e,this.showMenu()},showMenu:function(){var e=this;this.visible=!0,"BODY"!==this.menu.parentNode.nodeName&&document.body.appendChild(this.menu),this.menu.style.display="block",this.setPosition(),window.requestAnimationFrame(function(){e.menu.style.opacity="1"}),this.$emit("visible-change",!0)},hideMenu:function(){this.visible=!1,this.menu.style.opacity="0.01",this.$emit("visible-change",!1)},setPosition:function(){this.dom&&(this.position=this.dom.getBoundingClientRect());var e=this.getPosition(this.placement),t=e.left,n=e.top;if(this.menu.style.left=t+"px",this.menu.style.top=n+"px",this.$refs.arrow){this.position.top>n&&this.$refs.arrow.classList.add("gk-menu-arrow-top");var i=window.getComputedStyle(this.$refs.arrow);this.$refs.arrow.style.left=this.position.left-t+this.position.width/2-parseInt(i.borderWidth)+"px"}},getPosition:function(e){var t=void 0,n=void 0,i=this.position,o=window.getComputedStyle(this.menu),r={topTop:i.top-this.menu.clientHeight-parseInt(o.marginTop)-parseInt(o.marginBottom),bottomTop:i.top+i.height,startLeft:i.left,centerLeft:i.left-(this.menu.clientWidth-i.width)/2,endLeft:i.left-this.menu.clientWidth+i.width},s=r.topTop,a=r.bottomTop,l=r.startLeft,u=r.centerLeft,c=r.endLeft;switch(e){case"top":t=u,n=s;break;case"top-start":t=l,n=s;break;case"top-end":t=c,n=s;break;case"bottom":t=u,n=a;break;case"bottom-start":t=l,n=a;break;case"bottom-end":t=c,n=a}return n<0&&(n=a),n+this.menu.clientHeight-parseInt(o.marginTop)>window.innerHeight&&(n=s),t<0&&(t=u)<0&&(t=l),t+this.menu.clientWidth>window.innerWidth&&(t=u)+this.menu.clientWidth>window.innerWidth&&(t=c),{left:t,top:n}},bind:function(){var e=this;switch(this.trigger){case"click":this.dom.onclick=function(t){e.visible?e.hideMenu():e.showMenu(),t.stopPropagation()};break;case"contextmenu":this.dom.oncontextmenu=function(t){e.showMenu(),t.preventDefault()};break;case"hover":this.dom.onmouseenter=function(){clearTimeout(e.timer),e.showMenu()},this.dom.onmouseleave=function(){e.timer=setTimeout(function(){e.hideMenu()},100)},this.menu.onmouseenter=function(){clearTimeout(e.timer)},this.menu.onmouseleave=function(){e.timer=setTimeout(function(){e.hideMenu()},100)}}var t=0;window.addEventListener("resize",function(){e.visible&&(clearTimeout(t),t=setTimeout(function(){e.setPosition()},100))})}},mounted:function(){var e=this;this.menu=this.$el,this.target?this.dom=this.$parent.$refs[this.target].$el:this.$parent.btn&&(this.dom=this.$parent.btn),this.dom&&this.bind(),this.menu.addEventListener("transitionend",function(){!1===e.visible&&(e.menu.style.display="none")}),document.body.addEventListener("click",function(){e.visible&&e.hideMenu()})}}},function(e,t,n){"use strict";n.r(t);var i=n(39),o=n(12);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="checkbox.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var i=n(5),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(26)),o=a(n(27)),r=a(n(2)),s=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkBreadcrumb",components:{GkMenuItem:s.default,GkMenu:r.default,GkButtonGroup:o.default,GkButton:i.default},props:{data:{type:Array,required:!0},label:{type:String,default:"label"},value:{type:String,default:"value"},"show-nav":Boolean,index:{type:String,default:"$_i"}},data:function(){return{width:0,mode:"normal",list:[],menu:[],history:[],current:"",input:""}},watch:{navs:"change"},computed:{navs:function(){var e=this,t=[];return this.data.forEach(function(n,i){n[e.index]=i,t.push(n)}),t}},methods:{change:function(e){var t=this;if(e.length){this.input=this.current=e[e.length-1][this.value];var n=Array.from(e);setTimeout(function(){var e=t.$refs.list.children,i=e[0].clientWidth;t.menu=[];for(var o=e.length-1;o>0;o--)if((i+=e[o].clientWidth)>t.width&&o!==e.length-1){t.menu=n.splice(1,o);break}t.list=n},100)}},handelClick:function(e,t){if(e[this.input]!==this.current){this.history.push(this.current);var n=e[this.index];this.$emit("navigator",e[this.value],this.data[n],n,t)}},handleGoto:function(){this.changeMode("normal"),this.input!==this.current&&(this.history.push(this.value),this.$emit("goto",this.value))},handlePrevNext:function(e){e>0?this.$emit("next"):this.$emit("prev")},changeMode:function(e,t){switch(e){case"input":Object.keys(this.$listeners).indexOf("goto")>-1&&(this.mode=e);break;default:this.mode=e}t&&t.stopPropagation()},showMenu:function(e){this.$refs.more.show(e.target),e.stopPropagation()}},mounted:function(){var e=this;this.width=this.$el.clientWidth-26,this.showNav&&(this.width=this.width-this.$refs.ops.$el.clientWidth),this.change(this.navs),document.addEventListener("click",function(){"input"===e.mode&&(e.mode="normal")});var t=0;window.addEventListener("resize",function(){"normal"===e.mode&&(clearTimeout(t),t=setTimeout(function(){e.change(e.navs)},100))})}}},function(e,t,n){"use strict";n.r(t);var i=n(7),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"GkButton",props:{icon:String}}},function(e,t,n){"use strict";n.r(t);var i=n(9),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"GkButtonGroup"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(43);t.default={name:"GkMenuItem",props:{divided:Boolean,disabled:Boolean,command:String|Object|Array|Number,icon:String,keymap:String},data:function(){return{hasSub:!1,shortcut:""}},computed:{menu:function(){return this.$parent},special:function(){return{SPACE:"Space",CAPSLOCK:"CapsLock",TAB:"Tab",BACKSPACE:"Backspace",DELETE:"Delete",ARROWUP:"ArrowUp",ARROWDOWN:"ArrowDown",ARROWLEFT:"ArrowLeft",ARROWRIGHT:"ArrowRight"}},showRight:function(){return this.shortcut||this.hasSub||this.$slots.after}},methods:{handleClick:function(e){this.command&&(e.stopPropagation(),this.disabled||this.menu.handleCommand(this.command))},initShortcut:function(e,t){var n=this;void 0!==this.special[e]&&(e=this.special[e],this.shortcut=void 0!==t?t+e:e),"Mac"===(0,o.getOS)()&&"META"===t&&(this.shortcut="⌘"+e),1===e.length&&(e="Key"+e),void 0===t?document.addEventListener("keydown",function(t){t.code===e&&(n.handleClick(t),t.preventDefault())}):document.addEventListener("keydown",function(i){("META"!==t||i.metaKey)&&("CTRL"!==t||i.ctrlKey)&&("ALT"!==t||i.altKey)&&("SHIFT"!==t||i.shiftKey)&&i.code===e&&(n.handleClick(i),i.preventDefault())})}},mounted:function(){for(var e=this.$children,t=0;t<e.length;t++)e[t].$el.className.indexOf("gk-menu")>-1&&(this.hasSub=!0);if(this.keymap){var n=this.keymap.toUpperCase();switch(this.shortcut=n,(0,o.getOS)()){case"Mac":if(n.indexOf("+")>-1){var r=n.split("+"),s=i(r,2),a=s[0],l=s[1];"FORCECTRL"===a?a="CTRL":["CTRL","META"].indexOf(a)>-1&&(a="META"),this.initShortcut(l,a)}else this.initShortcut(n);break;case"Windows":case"Linux":if(n.indexOf("+")>-1){var u=n.split("+"),c=i(u,2),d=c[0],f=c[1];this.initShortcut(f,d)}else this.initShortcut(n)}}}}},function(e,t,n){"use strict";n.r(t);var i=n(13),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"GkCheckbox",props:{"is-checked":Boolean},data:function(){return{checked:this.isChecked}},methods:{changeValue:function(){this.checked=this.$refs.checkbox.checked}}}},function(e,t,n){"use strict";n.r(t);var i=n(15),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"GkDropdown",computed:{btn:function(){return this.$children[0].$el}}}},function(e,t,n){"use strict";n.r(t);var i=n(17),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=y(n(42)),r=y(n(26)),s=y(n(27)),a=y(n(47)),l=y(n(48)),u=y(n(49)),c=y(n(51)),d=y(n(2)),f=y(n(1)),h=y(n(44)),m=y(n(45)),p=y(n(46)),v=y(n(28)),b=y(n(3)),g=n(43);function y(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkFinder",components:{GkCheckbox:b.default,GkDropdown:h.default,GkDropdownMenu:p.default,GkDropdownItem:m.default,GkMenuItem:f.default,GkMenu:d.default,GkSubmenu:v.default,GkSlide:c.default,GkThumbnail:u.default,GkTableColumn:l.default,GkTable:a.default,GkButtonGroup:s.default,GkButton:r.default,GkBreadcrumb:o.default},props:{list:{type:Array,required:!0},value:{type:null|Object,required:!0},root:Object,"item-height":{type:Number,default:42},"sort-list":Array,"default-sort":{type:String,default:""},"show-more":Boolean,"more-text":String,total:Number,buttons:Array,loading:Boolean,previewToolbar:Object},data:function(){var e=this.defaultSort.split(" "),t=i(e,2),n=t[0],o=t[1];return{viewMode:"default",sort:n||"",order:o||"",selected:{},preview:!1,navList:this.initNavs(),selectedIndex:[],fileList:[]}},watch:{list:"loadSuccess",value:"changeFile"},methods:{getSortIcon:function(e){var t="";return e===this.sort&&(t="asc"===this.order?"gk-icon-longarrowup":"gk-icon-longarrowdown"),t},initNavs:function(){var e=[],t="",n="";Object.keys(this.root).length&&e.push(this.root),this.value&&this.value.fullpath&&(n+=this.value.fullpath+"/");for(var i=0;i<n.length;i++)"/"===n[i]&&e.push({filename:t.substring(t.lastIndexOf("/"),t.length),fullpath:n.substr(0,n.length-1)}),t+=n[i];return e},formatDate:function(e){return(0,g.timeToDate)(1e3*e)},formatSize:function(e,t){return t.dir?"-":(0,g.bitSize)(e)},handleViewMode:function(e){this.selectedIndex=this.$refs.table.getSelectedIndex(),this.viewMode=e},selectItem:function(e,t){this.selected=e,this.selectedIndex=[t]},dblclickItem:function(e,t){this.selected=e,this.selectedIndex=[t],this.navList.push(e),this.$emit("input",e),this.$emit("enter",e,t),e.dir||this.showPreview()},rightClickItem:function(e,t,n){this.buttons&&this.$refs.contextmenu.show(n)},clickBreadcrumb:function(e,t,n){this.navList=this.navList.slice(0,n+1),this.selectItem(null,-1),this.$emit("input",t),this.$emit("navigator",e,t)},showPreview:function(){this.preview=!0},loadSuccess:function(){var e=this;this.fileList=[],this.list.forEach(function(t){t.dir||e.fileList.push(t)}),this.preview=!1},loadMore:function(e){this.fileList.length!==this.total&&this.$emit("loadMore",e,this.value)},handleSort:function(e){this.sort===e&&(this.order="desc"===this.order?"asc":"desc"),this.sort=e,this.$emit("sort-change",this.sort,this.order)},changeFile:function(){this.value.dir&&(this.preview=!1)}}}},function(e,t,n){"use strict";n.r(t);var i=n(19),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(64),r=l(n(66)),s=l(n(29)),a=l(n(30));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkTable",directives:{loading:s.default,scrollLoad:a.default},components:{GkTableCell:r.default,VirtualScroller:o.VirtualScroller},props:{"show-more":Boolean,"show-header":Boolean,"show-checkbox":Boolean,"default-index":Number|Array,"default-checked-index":{type:Array,default:function(){return[]}},"more-text":{type:String,default:"loading..."},height:Number,loading:Boolean,fit:Boolean,data:{type:Array,required:!0},itemHeight:{type:Number,default:42}},data:function(){var e=this,t={},n={};return"object"===i(this.defaultIndex)?this.defaultIndex.forEach(function(n){t[n]=e.data[n]}):t[this.defaultIndex]=this.data[this.defaultIndex],this.defaultCheckedIndex.forEach(function(t){n[t]=e.data[t]}),{page:1,selected:t,lastSelectedIndex:-1,checked:n,showAllCheckbox:!1,hasScrollbar:!1,clickTimer:!1,clickItem:!1}},computed:{computedStyle:function(){var e={};if(!this.fit&&this.height){var t=this.height;if(this.showHeader){var n=window.getComputedStyle(this.$refs.thead.querySelector("th:first-child")).height;t-=parseInt(n)}e.height=t+"px"}return e},columns:function(){var e=this,t=[];return this.$children.forEach(function(n){n.isTableColumn&&t.push(Object.assign({columnStyle:Object.assign({height:e.itemHeight+"px"},n.columnStyle),render:n.$scopedSlots.default},n.$props))}),t}},methods:{loadMore:function(e){this.$emit("loadMore",e)},handleSelect:function(e,t,n){var i=this;this.clickItem=!0,clearTimeout(this.clickTimer),this.clickTimer=setTimeout(function(){if(n&&(n.ctrlKey||n.metaKey)){var o=i.selected;i.selected={},void 0===o[t]?(o[t]=e,i.selected=o,i.lastSelectedIndex=t,i.$emit("select",e,t,n)):(delete o[t],i.selected=o,i.$emit("select",null,null,n))}else if(i.selected={},n&&n.shiftKey&&i.lastSelectedIndex>-1)for(var r=Math.min(t,i.lastSelectedIndex);r<=Math.max(t,i.lastSelectedIndex);r++)i.selected[r]=i.data[r];else{if(void 0!==i.selected[t])return;i.selected[t]=e,i.lastSelectedIndex=t,i.$emit("select",e,t,n)}i.clickItem=!1},20)},handleCancelSelect:function(){this.clickItem||(this.selected={},this.$emit("select",null,null,event))},handleSelectAll:function(){var e={};for(var t in this.data)e[t]=this.data[t];this.selected=e},handleDbclick:function(e,t,n){clearTimeout(this.clickTimer),this.$emit("dblclick",e,t,n)},handleCheck:function(e,t,n){n.target.checked?this.checked[t]=e:delete this.checked[t],!this.showCheckbox&&(this.showAllCheckbox=Object.keys(this.checked).length>0)},handleCheckAll:function(e){for(var t=this.$refs.table.$el.querySelectorAll(".gk-table-checkbox > :first-child"),n=0;n<t.length;n++)t[n].checked=e,e?t[n].classList.add("gk-checkbox-checked"):t[n].classList.remove("gk-checkbox-checked");this.checked=e?this.data:[]},handleContextmenu:function(e,t,n){-1!==Object.keys(this.$listeners).indexOf("contextmenu")&&(this.$emit("contextmenu",e,t,n),n.stopPropagation(),n.preventDefault())},handleSelectPrevNext:function(e){var t=Object.keys(this.selected);if(1!==t.length)return!1;var n=parseInt(t[0])+e;if(n<0||n>this.data.length-1)return!1;this.handleSelect(this.data[n],n)},setScrollbar:function(){var e=this.$refs.table.$el;this.hasScrollbar=this.itemHeight*this.data.length>e.clientHeight},watchScrollbar:function(){var e=this;this.setScrollbar();var t=0;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){e.setScrollbar()},5)})},getSelected:function(){return Object.values(this.selected)},getSelectedIndex:function(){return Object.keys(this.selected)},getChecked:function(){return Object.values(this.checked)}},mounted:function(){var e=this;this.watchScrollbar(),document.addEventListener("keydown",function(t){(t.ctrlKey||t.metaKey)&&"KeyA"===t.code?(e.handleSelectAll(),t.preventDefault()):"ArrowUp"===t.code?e.handleSelectPrevNext(-1):"ArrowDown"===t.code&&e.handleSelectPrevNext(1)})}}},function(e,t,n){"use strict";n.r(t);var i=n(21),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default={name:"gkTableColumn",components:{GkCheckbox:i.default},data:function(){return{isTableColumn:!0}},props:{label:String,width:Number|String,checkbox:Boolean,property:String,align:{type:String,default:"left"},formatter:Function},computed:{columnStyle:function(){return{width:"number"==typeof this.width?this.width+"px":this.width,"text-align":this.align}}},methods:{checkAll:function(e){var t=e.target;this.$parent.handleCheckAll(t.checked)}}}},function(e,t,n){"use strict";n.r(t);var i=n(23),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(50)),r=a(n(29)),s=a(n(30));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkThumbnail",directives:{loading:r.default,scrollLoad:s.default},components:{GkThumbnailItem:o.default},props:{data:Array,property:String,size:Object,border:Number,"default-index":Number|Array,loading:Boolean,fit:Boolean},data:function(){var e=this,t={};return"object"===i(this.defaultIndex)?this.defaultIndex.forEach(function(n){t[n]=e.data[n]}):t[this.defaultIndex]=this.data[this.defaultIndex],{clickTimer:!1,selected:t,clickItem:!1}},computed:{style:function(){return{border:this.border+"px"}}},methods:{loadMore:function(e){this.$emit("loadMore",e)},handleSelect:function(e,t,n){var i=this;this.clickItem=!0,clearTimeout(this.clickTimer),this.clickTimer=setTimeout(function(){if(n&&(n.ctrlKey||n.metaKey)){var o=i.selected;i.selected={},void 0===o[t]?(o[t]=e,i.selected=o,i.lastSelectedIndex=t,i.$emit("select",e,t,n)):(delete o[t],i.selected=o,i.$emit("select",null,null,n))}else if(i.selected={},n&&n.shiftKey&&i.lastSelectedIndex>-1)for(var r=Math.min(t,i.lastSelectedIndex);r<=Math.max(t,i.lastSelectedIndex);r++)i.selected[r]=i.data[r];else{if(void 0!==i.selected[t])return;i.selected[t]=e,i.lastSelectedIndex=t,i.$emit("select",e,t,n)}i.clickItem=!1},20)},handleCancelSelect:function(){if(this.clickItem)return!1;this.selected={},this.$emit("select",null,null,event)},handleSelectAll:function(){var e={};for(var t in this.data)e[t]=this.data[t];this.selected=e},handleDblclick:function(e,t,n){clearTimeout(this.clickTimer),this.$emit("dblclick",e,t,n)},handleContextmenu:function(e,t,n){-1!==Object.keys(this.$listeners).indexOf("contextmenu")&&(this.$emit("contextmenu",e,t,n),n.stopPropagation(),n.preventDefault())},handleSelectPrevNext:function(e){var t=Object.keys(this.selected);if(1!==t.length)return!1;var n=parseInt(t[0])+e;if(n<0||n>this.data.length-1)return!1;this.handleSelect(this.data[n],n)},getSelected:function(){return Object.values(this.selected)},getSelectedIndex:function(){return Object.keys(this.selected)}},mounted:function(){var e=this;document.onkeydown=function(t){(t.ctrlKey||t.metaKey)&&"KeyA"===t.code?(e.handleSelectAll(),t.preventDefault()):"ArrowLeft"===t.code?e.handleSelectPrevNext(-1):"ArrowRight"===t.code&&e.handleSelectPrevNext(1)}}}},function(e,t,n){"use strict";n.r(t);var i=n(25),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(52));t.default={name:"gkSlide",directives:{tooltip:i.default},props:{fit:Boolean,toolbar:Boolean,list:{type:Array,required:!0},options:{type:Object,default:function(){return{}}},value:{type:Object},id:String},computed:{left:function(){return this.toolbar&&this.options.left||[]},center:function(){return this.options?Object.assign({prev:"prev",text:"[index] of [count]",next:"next"},this.options.center):{prev:!1,text:"",right:!1}},right:function(){return this.toolbar&&this.options.right||[]}},data:function(){return{selected:this.value||this.list[0],selectedIndex:this.getIndex()}},methods:{formatText:function(e){return e.replace("[index]",this.selectedIndex+1).replace("[count]",this.list.length)},handleBtn:function(e){"function"==typeof e.handle&&e.handle(this.selected)},getIndex:function(){if(!this.toolbar)return 0;for(var e=0;e<this.list.length;e++){var t=this.list[e];if("string"==typeof t){if(t===this.value)return e}else if(t[this.id]===this.value[this.id])return e}return 0},handlePrev:function(){0!==this.selectedIndex&&(this.selected=this.list[--this.selectedIndex])},handleNext:function(){this.selectedIndex!==this.list.length-1&&(this.selected=this.list[++this.selectedIndex])}}}},function(e,t,n){"use strict";n.r(t);var i=n(33),o=n(6);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="button.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var i=n(35),o=n(8);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="button-group.vue",t.default=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default={name:"GkSubmenu",components:{GkMenuItem:o.default},props:{trigger:{type:String,default:"hover"},data:Array},data:function(){return{menu:null,visible:!1,timer:0}},render:function(e){var t=[];return void 0!==this.data?this.data.forEach(function(n){n.divided&&t.push(e("li",{class:"gk-menu-divided"})),"object"===i(n.children)?t.push(e("gk-menu-item",{props:n},[n.label,e("gk-submenu",{props:{data:n.children}})])):t.push(e("gk-menu-item",{props:n},n.label))}):this.$slots.default.forEach(function(n){void 0!==n.componentOptions.propsData.divided&&t.push(e("li",{class:"gk-menu-divided"})),t.push(n)}),e("ul",{class:"gk-menu gk-sub-menu"},t)},computed:{parentMenu:function(){return this.$parent.$parent}},methods:{handleCommand:function(e){this.parentMenu.handleCommand(e),this.hideMenu()},showMenu:function(){var e=this;this.visible=!0,this.menu.style.display="block",this.setPosition(),window.requestAnimationFrame(function(){e.menu.style.opacity="1"})},hideMenu:function(){this.visible=!1,this.menu.style.opacity="0.01"},setPosition:function(){var e=window.getComputedStyle(this.menu),t=this.dom.clientWidth,n=this.dom.offsetTop-parseInt(e.paddingTop);this.menu.style.left=t+"px",this.menu.style.top=n+"px";var i=this.menu.getBoundingClientRect();i.left+this.menu.clientWidth>window.innerWidth&&(t=-this.menu.clientWidth,this.menu.style.left=t+"px");var o=i.top+this.menu.clientHeight+parseInt(e.marginBottom)-window.innerHeight;o>0&&(n-=o,this.menu.style.top=n+"px")},bind:function(){var e=this;switch(this.trigger){case"click":this.dom.onclick=function(t){e.visible?e.hideMenu():e.showMenu(),t.stopPropagation()};break;case"hover":this.dom.onmouseenter=function(){clearTimeout(e.timer),e.showMenu()},this.dom.onmouseleave=function(){e.timer=setTimeout(function(){e.hideMenu()},100)},this.menu.onmouseenter=function(){clearTimeout(e.timer)},this.menu.onmouseleave=function(){e.timer=setTimeout(function(){e.hideMenu()},100)}}}},mounted:function(){var e=this;this.dom=this.$parent.$el,this.menu=this.$el,this.bind(),this.menu.addEventListener("transitionend",function(){!1===e.visible&&(e.menu.style.display="none")}),document.body.addEventListener("click",function(){e.visible&&e.hideMenu()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={show:function(e){var t=this;if(!this.exist){var n=window.getComputedStyle(e).position;"static"!==n&&""!==n||(this.static=!0,e.style.position="relative");var i=document.createElement("div");i.className="gk-loading-wrapper",!1!==this.options.bg&&(i.style.backgroundColor=this.options.bg),e.appendChild(i);var o=document.createElement("div");if(o.className="gk-loading",o.innerHTML='<svg style="styles" class="gk-loading-spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>',i.appendChild(o),!1!==this.options.text){o.classList.add("gk-loading-text");var r=document.createElement("p");r.textContent=this.options.text,o.appendChild(r)}this.box=i}window.requestAnimationFrame(function(){t.box.style.opacity="1"})},hide:function(e){var t=this;this.box.addEventListener("transitionend",function(){t.box.remove(),t.exist=!1,t.static&&e.style.removeProperty("position")}),this.box.style.opacity="0.01"},bind:function(e,t){var n=t.def;n.static=!1,n.box=null,n.exist=!1,n.options={bg:e.getAttribute("gk-loading-background")||!1,text:e.getAttribute("gk-loading-text")||!1}},update:function(e,t){var n=t.def;if(t.value)n.show(e),n.exist=!0;else{if(!n.exist)return;n.hide(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bind:function(e,t){var n=0,i=new Function("return {"+(e.getAttribute("gk-scroll-load-option")||"")+"}")();!1!==(i=Object.assign({distance:20,page:1,disabled:!1,frequency:200,selector:!1},i)).selector&&e.querySelector(i.selector).length&&(e=e.querySelector(i.selector));var o=function(){e.scrollTop+e.clientHeight+i.distance>=e.scrollHeight&&"function"==typeof t.value&&t.value(++i.page)};o(),e.onscroll=function(){i.disabled||(clearTimeout(n),n=setTimeout(function(){o()},i.frequency))}},update:function(e,t){}}},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"scroll-load",rawName:"v-scroll-load",value:e.loadMore,expression:"loadMore"}],staticClass:"gk-thumbnail gk-scrollbar",class:{"gk-thumbnail-fit":e.fit},on:{click:e.handleCancelSelect,contextmenu:function(t){e.handleContextmenu(null,null,t)}}},e._l(e.data,function(t,i){return n("gk-thumbnail-item",{key:i,class:{"gk-thumbnail-active-item":void 0!==e.selected[i]},style:e.style,attrs:{data:t,render:e.$scopedSlots.default,property:e.property,size:e.size},nativeOn:{click:function(n){e.handleSelect(t,i,n)},dblclick:function(n){e.handleDblclick(t,i,n)},contextmenu:function(n){e.handleContextmenu(t,i,n)}}})}))},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"gk-dropdown"},[this._t("default"),this._v(" "),this._t("dropdown")],2)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"gk-button"},[this.icon?t("i",{class:this.icon}):this._e(),this._t("default")],2)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"gk-slide",class:{"gk-slide-fit":e.fit,"gk-slide-with-toolbar":e.toolbar}},[n("div",{staticClass:"gk-slide-content"},[Object.keys(e.$scopedSlots).length?e._t("default",null,{item:e.selected}):n("div",{staticClass:"gk-slide-images"},[n("img",{attrs:{src:e.selected}})])],2),e._v(" "),e.toolbar?n("div",{staticClass:"gk-slide-toolbar"},[n("div",{staticClass:"gk-slide-toolbar-left"},e._l(e.left,function(t,i){return n("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:i,class:t.icon,attrs:{placement:"top",title:t.title},on:{click:function(n){e.handleBtn(t)}}})})),e._v(" "),n("div",{staticClass:"gk-slide-toolbar-center"},[e.center.prev?n("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"gk-icon-angleleft",class:{"gk-disable":0===e.selectedIndex},attrs:{placement:"top",title:e.center.prev},on:{click:e.handlePrev}}):e._e(),e._v(" "),n("span",[e._v(e._s(e.formatText(e.center.text)))]),e._v(" "),e.center.next?n("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"gk-icon-angleright",class:{"gk-disable":e.selectedIndex===e.list.length-1},attrs:{placement:"top",title:e.center.next},on:{click:e.handleNext}}):e._e()]),e._v(" "),n("div",{staticClass:"gk-slide-toolbar-right"},e._l(e.right,function(t,i){return n("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:i,class:t.icon,attrs:{placement:"top",title:t.title},on:{click:function(n){e.handleBtn(t)}}})}))]):e._e()])},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"gk-button-group"},[this._t("default")],2)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gk-breadcrumb"},[e.showNav?n("gk-button-group",{ref:"ops",staticClass:"gk-breadcrumb-ops",attrs:{plain:""}},[n("gk-button",{attrs:{icon:"gk-icon-angleleft"},on:{click:function(t){e.handlePrevNext(-1)}}}),e._v(" "),n("gk-button",{attrs:{icon:"gk-icon-angleright"},on:{click:function(t){e.handlePrevNext(1)}}})],1):e._e(),e._v(" "),n("ul",{ref:"list",staticClass:"gk-breadcrumb-list",class:"full"===e.mode?"gk-breadcrumb-full":"gk-breadcrumb-hidden"},e._l(e.navs,function(t,i){return n("li",{key:i,staticClass:"gk-breadcrumb-item"},[i<e.data.length-1?[n("a",{attrs:{href:"javascript:void(0)",title:t[e.label]},on:{click:function(n){e.handelClick(t,n)}}},[e._v(e._s(t[e.label]))]),e._v(" "),n("i",{staticClass:"gk-icon-angleright"})]:n("span",{attrs:{title:t[e.label]},on:{click:function(t){e.changeMode("input",t)}}},[e._v(e._s(t[e.label]))])],2)})),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:"input"===e.mode,expression:"mode === 'input'"},{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"gk-breadcrumb-input",domProps:{value:e.input},on:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleGoto(t):null},input:function(t){t.target.composing||(e.input=t.target.value)}}}),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.mode,expression:"mode === 'normal'"}],staticClass:"gk-breadcrumb-list"},[e._l(e.list,function(t,i){return[e.menu.length&&1===i?n("li",{key:i+100,staticClass:"gk-breadcrumb-item"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:e.showMenu}},[e._v("...")]),e._v(" "),n("i",{staticClass:"gk-icon-angleright"})]):e._e(),e._v(" "),n("li",{key:i,staticClass:"gk-breadcrumb-item"},[i<e.list.length-1?[n("a",{attrs:{href:"javascript:void(0)",title:t[e.label]},on:{click:function(n){e.handelClick(t,n)}}},[e._v(e._s(t[e.label]))]),e._v(" "),n("i",{staticClass:"gk-icon-angleright"})]:n("span",{attrs:{title:t[e.label]},on:{click:function(t){e.changeMode("input",t)}}},[e._v(e._s(t[e.label]))])],2)]})],2),e._v(" "),n("gk-menu",{ref:"more",attrs:{"show-arrow":""}},e._l(e.menu,function(t,i){return n("gk-menu-item",{key:i,nativeOn:{click:function(n){e.handelClick(t,n)}}},[e._v(e._s(t[e.label]))])}))],1)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"gk-menu-item",class:{"gk-menu-item-disabled":e.disabled},attrs:{"aria-disabled":e.disabled},on:{click:e.handleClick}},[e.icon?n("i",{class:e.icon}):e._e(),e._t("default"),e._v(" "),e.showRight?n("span",{staticClass:"gk-menu-item-right"},[e._t("after"),e.shortcut?n("em",[e._v(e._s(e.shortcut))]):e._e(),e.hasSub?n("i",{staticClass:"gk-icon-caretright"}):e._e()],2):e._e()],2)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",{class:{"gk-table-checkbox":e.checkbox},style:e.columnStyle},[e.checkbox?n("gk-checkbox",{attrs:{type:"checkbox"},nativeOn:{click:function(t){e.checkAll(t)}}}):n("span",[e._v(e._s(e.label))])],1)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("input",{ref:"checkbox",staticClass:"gk-checkbox",class:{"gk-checkbox-checked":this.checked},attrs:{"aria-checked":this.checked,type:"checkbox"},domProps:{checked:this.checked},on:{change:this.changeValue}})},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"gk-table",class:{"gk-table-with-header":e.showHeader,"gk-table-fit":e.fit,"gk-table-show-checkbox":e.showAllCheckbox||e.showCheckbox}},[n("table",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],ref:"thead",staticClass:"gk-table-header"},[n("thead",[n("tr",[e._t("default"),e._v(" "),e.hasScrollbar?n("th",{staticClass:"gk-table-header-last"}):e._e()],2)])]),e._v(" "),n("virtual-scroller",{directives:[{name:"scroll-load",rawName:"v-scroll-load",value:e.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"gk-table-virtual gk-scrollbar",style:e.computedStyle,attrs:{contentClass:"gk-table-body",items:e.data,"content-tag":"table","item-height":e.itemHeight},nativeOn:{contextmenu:function(t){e.handleContextmenu(null,null,t)},click:function(t){e.handleCancelSelect()}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("tr",{staticClass:"gk-table-item",class:{"gk-table-item-active":void 0!==e.selected[t.itemIndex]},on:{click:function(n){e.handleSelect(t.item,t.itemIndex,n)},dblclick:function(n){e.handleDbclick(t.item,t.itemIndex,n)},contextmenu:function(n){e.handleContextmenu(t.item,t.itemIndex,n)}}},e._l(e.columns,function(i,o){return n("gk-table-cell",{key:o,attrs:{"is-checked":void 0!==e.checked[t.itemIndex],index:t.itemIndex,data:t.item,column:i},on:{check:e.handleCheck}})}))]}}])}),e._v(" "),e.showMore?n("div",{staticClass:"gk-table-more"},[n("span",{staticClass:"gk-table-more-text"},[e._v(e._s(e.moreText))])]):e._e()],1)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gk-finder"},[n("div",{staticClass:"gk-finder-toolbar"},[n("gk-breadcrumb",{attrs:{data:e.navList,label:"filename",value:"fullpath"},on:{navigator:e.clickBreadcrumb}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.preview,expression:"!preview"}],staticClass:"gk-finder-show-ops"},[e.sortList?n("gk-dropdown",{staticStyle:{display:"inline-block"},on:{command:e.handleSort}},[n("gk-button",{staticClass:"gk-finder-sort-button",attrs:{icon:"gk-icon-sort"}}),e._v(" "),n("gk-dropdown-menu",{attrs:{slot:"dropdown","show-arrow":""},slot:"dropdown"},e._l(e.sortList,function(t,i){return n("gk-dropdown-item",{key:i,attrs:{icon:e.getSortIcon(t.value),command:t.value}},[e._v(e._s(t.label)+"\n                    ")])}))],1):e._e(),e._v(" "),n("gk-button-group",{staticClass:"gk-finder-view-mode",attrs:{plain:""}},[n("gk-button",{class:{"gk-button-active":"default"===e.viewMode},attrs:{icon:"gk-icon-listdetail"},nativeOn:{click:function(t){e.handleViewMode("default")}}}),e._v(" "),n("gk-button",{class:{"gk-button-active":"list"===e.viewMode},attrs:{icon:"gk-icon-list"},nativeOn:{click:function(t){e.handleViewMode("list")}}}),e._v(" "),n("gk-button",{class:{"gk-button-active":"thumbnail"===e.viewMode},attrs:{icon:"gk-icon-listgrid"},nativeOn:{click:function(t){e.handleViewMode("thumbnail")}}})],1)],1)],1),e._v(" "),n("div",{staticClass:"gk-finder-content",class:"gk-finder-view-"+e.viewMode},[["thumbnail"===e.viewMode?n("gk-thumbnail",{ref:"table",attrs:{fit:"",loading:e.loading,data:e.list,border:0,"default-index":e.selectedIndex},on:{loadMore:e.loadMore,select:e.selectItem,dblclick:e.dblclickItem,contextmenu:e.rightClickItem},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[n("img",{attrs:{src:t.thumb,width:"128",height:"128"}})]),e._v(" "),n("p",{staticClass:"gk-finder-filename"},[e._v(e._s(t.filename))])]}}])}):"list"===e.viewMode?n("gk-table",{ref:"table",attrs:{fit:"",loading:e.loading,"show-checkbox":"","show-header":"",data:e.list,itemHeight:e.itemHeight,"default-index":e.selectedIndex,"show-more":e.showMore,"more-text":e.moreText},on:{loadMore:e.loadMore,select:e.selectItem,dblclick:e.dblclickItem,contextmenu:e.rightClickItem}},[n("gk-table-column",{attrs:{checkbox:"",width:30,align:"center"}}),e._v(" "),n("gk-table-column",{attrs:{property:"filename",label:"文件名",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"gk-finder-filename-column"},[n("img",{attrs:{src:t.thumb,height:"16"}}),e._v(e._s(t.filename)+"\n                        ")])]}}])}),e._v(" "),n("gk-table-column",{attrs:{property:"last_dateline",label:"最后修改",formatter:e.formatDate,sortable:"",width:180}}),e._v(" "),n("gk-table-column",{attrs:{property:"filesize",label:"大小",formatter:e.formatSize,sortable:"",width:80}}),e._v(" "),n("gk-table-column",{attrs:{width:"10%"}})],1):n("gk-table",{ref:"table",attrs:{fit:"",loading:e.loading,data:e.list,itemHeight:e.itemHeight+20,"default-index":e.selectedIndex,"more-text":e.moreText,"show-more":e.showMore},on:{select:e.selectItem,dblclick:e.dblclickItem,contextmenu:e.rightClickItem,loadMore:e.loadMore}},[n("gk-table-column",{attrs:{width:20}}),e._v(" "),n("gk-table-column",{attrs:{property:"filename",label:"文件名",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"gk-finder-filename-column"},[n("img",{attrs:{src:t.thumb,height:"32"}}),e._v(" "),n("div",[n("p",[e._v(e._s(t.filename))]),e._v(" "),n("p",[n("span",[e._v(e._s(t.last_member_name))]),e._v(" "),n("span",[e._v(e._s(e.formatDate(t.last_dateline)))]),e._v(" "),t.filesize?n("span",[e._v(e._s(e.formatSize(t.filesize,t)))]):e._e()])])])]}}])}),e._v(" "),n("gk-table-column",{attrs:{width:"20%"}})],1)],e._v(" "),e.preview?n("gk-slide",{attrs:{fit:"",toolbar:"",options:e.previewToolbar,list:e.fileList,id:"fullpath"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.item.previewUrl?n("iframe",{attrs:{src:t.item.previewUrl}}):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):e._e()],2),e._v(" "),e.buttons?n("gk-menu",{ref:"contextmenu",attrs:{data:e.buttons}}):e._e()],1)},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.r(t);var i=n(36),o=n(4);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="breadcrumb.vue",t.default=a.exports},function(e,t,n){"use strict";function i(e,t){t=t||"yyyy-MM-dd hh:mm:ss";var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.bitSize=function(e){if(void 0===e||"-"===e)return e;"number"!=typeof e&&(e=Number(e));if(e<0)return"";var t=["B","KB","MB","GB","TB","PB"],n=0;for(;e>=1024;){if(n>=5)return e+t[n];e/=1024,n++}return 0===e?e:Math.round(100*e)/100+t[n]},t.strToB=function(e){var t=(e=e.toUpperCase()).match(/[A-Z]+/i)[0],n=e.match(/[0-9]+/)[0];switch(t){case"KB":case"K":n*=1024;break;case"MB":case"M":n*=1048576;break;case"GB":case"G":n*=1073741824;break;case"TB":case"T":n*=1099511627776;break;case"PB":case"P":n*=0x4000000000000;break;case"EB":case"E":n*=0x1000000000000000}return n},t.formatDate=i,t.timeToDate=function(e,t){return i(new Date(e),t)},t.getOS=function(){var e="Others";navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1?e="Android":navigator.userAgent.indexOf("iPhone")>-1?e="iOS":navigator.userAgent.indexOf("Windows Phone")>-1?e="WP":window.navigator.userAgent.indexOf("Windows NT")>-1?e="Windows":window.navigator.userAgent.indexOf("Mac")>-1?e="Mac":window.navigator.userAgent.indexOf("X11")>-1?e="UNIX":window.navigator.userAgent.indexOf("Linux")>-1&&(e="Linux");return e}},function(e,t,n){"use strict";n.r(t);var i=n(32),o=n(14);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="dropdown.vue",t.default=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=Object.assign(i.default,{name:"GkDropdownItem"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.default=Object.assign(i.default,{name:"GkDropdownMenu"})},function(e,t,n){"use strict";n.r(t);var i=n(40),o=n(18);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="table.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var i=n(38),o=n(20);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="table-column.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var i=n(31),o=n(22);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="thumbnail.vue",t.default=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default={name:"GkThumbnailItem",props:{render:Function,data:Object|String,property:String,size:{type:Object,default:function(){return{w:148,h:180}}}},render:function(e){var t=void 0;if(this.render)t=this.render(this.data);else{t=e("img",{attrs:{src:"object"===i(this.data)?this.data[this.property]:this.data}})}return e("li",{class:{"gk-thumbnail-item":!0},style:{width:this.size.w+"px",height:this.size.h+"px"}},[t])}}},function(e,t,n){"use strict";n.r(t);var i=n(34),o=n(24);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="slide.vue",t.default=a.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={get:function(e){return document.getElementById(e.getAttribute("aria-describedby"))},set:function(e,t){var n=document.createElement("div");n.className="gk-tooltip",n.id="gk-tooltip-"+this.index,n.style.zIndex=this.index+"",n.textContent=e.getAttribute("title")||e.getAttribute("content"),e.setAttribute("content",n.textContent),document.body.appendChild(n);var i=document.createElement("s");return i.className="gk-tooltip-arrow gk-arrow-"+t,n.appendChild(i),this.position(e,n,t),n},position:function(e,t,n){var i=e.getBoundingClientRect(),o=window.getComputedStyle(t),r=void 0,s=void 0;switch(n){case"top":r=i.left-(t.clientWidth-i.width)/2-parseInt(o.marginLeft),s=i.top-t.clientHeight-parseInt(o.marginTop)-parseInt(o.marginBottom);break;case"left":r=i.left-t.clientWidth-parseInt(o.marginLeft)-parseInt(o.marginRight),s=i.top-(t.clientHeight-i.height)/2-parseInt(o.marginTop);break;case"right":r=i.left+i.width,s=i.top-(t.clientHeight-i.height)/2-parseInt(o.marginTop);break;default:r=i.left-(t.clientWidth-i.width)/2-parseInt(o.marginLeft),s=i.top+i.height}t.style.left=r+"px",t.style.top=s+"px"},show:function(e){var t=this.get(e),n=e.getAttribute("placement")||"bottom";t?this.position(e,t,n):(t=this.set(e,n),e.setAttribute("aria-describedby",t.id),e.removeAttribute("title"),this.index+=2),window.requestAnimationFrame(function(){t.style.opacity="0.9"})},hide:function(e){var t=this.get(e);t.addEventListener("transitionend",function(){t.remove()}),t.style.opacity="0.01"},bind:function(e,t){var n=t.def;n.index=2e3,e.onmouseenter=function(e){var t=e.target;n.show(t)},e.onmouseout=function(e){var t=e.target;n.hide(t)}},update:function(e,t){}}},function(e,t,n){e.exports=n(54)},function(e,t,n){"use strict";var i=w(n(55)),o=w(n(56)),r=w(n(57)),s=w(n(58)),a=w(n(59)),l=w(n(60)),u=w(n(61)),c=w(n(62)),d=w(n(67)),f=w(n(68)),h=w(n(69)),m=w(n(70)),p=w(n(71)),v=w(n(72)),b=w(n(73)),g=w(n(74)),y=w(n(75)),_=w(n(76)),k=w(n(77));function w(e){return e&&e.__esModule?e:{default:e}}var x=[i.default,o.default,r.default,s.default,a.default,l.default,u.default,c.default,f.default,h.default,m.default,p.default,v.default,b.default,g.default,y.default,_.default],S=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];x.forEach(function(t){e.component(t.name,t)}),e.directive("gtooltip",k.default),e.directive("gloading",d.default)};"undefined"!=typeof window&&window.Vue&&S(window.Vue),e.exports={version:"1.0.0",install:S,Breadcrumb:i.default,Button:o.default,ButtonGroup:r.default,Checkbox:s.default,Dropdown:a.default,DropdownItem:l.default,DropdownMenu:u.default,Finder:c.default,Menu:f.default,MenuItem:h.default,ScrollLoad:m.default,Slide:p.default,Submenu:v.default,Table:b.default,TableColumn:g.default,Thumbnail:y.default,ThumbnailItem:_.default},e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(42));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(26));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(27));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(3));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(44));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(45));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(46));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(63));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(41),o=n(16);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(0),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="finder.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"VirtualScroller",function(){return S}),n.d(t,"RecycleList",function(){return O});var i={itemsLimit:1e3};var o=void 0;function r(){r.init||(r.init=!0,o=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}())}var s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{notify:function(){this.$emit("notify")},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.notify),this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||this.notify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!o&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.notify),delete this._resizeObject.onload)}},mounted:function(){var e=this;r(),this.$nextTick(function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight});var t=document.createElement("object");this._resizeObject=t,t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",o&&this.$el.appendChild(t),t.data="about:blank",o||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()}};var a={version:"0.4.4",install:function(e){e.component("resize-observer",s)}},l=null;"undefined"!=typeof window?l=window.Vue:void 0!==e&&(l=e.Vue),l&&l.use(a);var u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var f=function(){function e(t,n,i){u(this,e),this.el=t,this.observer=null,this.createObserver(n,i)}return c(e,[{key:"createObserver",value:function(e,t){var n=this;this.observer&&this.destroyObserver(),this.options=function(e){return"function"==typeof e?{callback:e}:e}(e),this.callback=this.options.callback,this.callback&&this.options.throttle&&(this.callback=function(e,t){var n=void 0,i=void 0,o=void 0,r=function(r){for(var s=arguments.length,a=Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];o=a,n&&r===i||(i=r,clearTimeout(n),n=setTimeout(function(){e.apply(void 0,[r].concat(d(o))),n=0},t))};return r._clear=function(){clearTimeout(n)},r}(this.callback,this.options.throttle)),this.observer=new IntersectionObserver(function(e){var t=e[0];n.callback&&n.callback(t.isIntersecting&&t.intersectionRatio>=n.threshold,t)},this.options.intersection),t.context.$nextTick(function(){n.observer.observe(n.el)})}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.callback&&this.callback._clear&&this.callback._clear()}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}]),e}(),h={bind:function(e,t,n){var i=t.value;if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var o=new f(e,i,n);e._vue_visibilityState=o}},update:function(e,t,n){var i=t.value,o=e._vue_visibilityState;o?o.createObserver(i,n):this.bind(e,{value:i},n)},unbind:function(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}};var m={version:"0.4.1",install:function(e){e.directive("observe-visibility",h)}},p=null;"undefined"!=typeof window?p=window.Vue:void 0!==e&&(p=e.Vue),p&&p.use(m);var v="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var b=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){!function(t,n){e.exports?e.exports=n():t.Scrollparent=n()}(v,function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},i=function(t){return e.test(function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),o=0;o<n.length;o+=1)if(i(n[o]))return n[o];return document.scrollingElement||document.documentElement}}})}),g=!1;if("undefined"!=typeof window){g=!1;try{var y=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,y)}catch(e){}}var _={components:{ResizeObserver:s},directives:{ObserveVisibility:h},props:{items:{type:Array,required:!0},itemHeight:{type:[Number,String],default:null},minItemHeight:{type:[Number,String],default:null},heightField:{type:String,default:"height"},typeField:{type:String,default:"type"},buffer:{type:[Number,String],default:200},pageMode:{type:Boolean,default:!1},prerender:{type:[Number,String],default:0},emitUpdate:{type:Boolean,default:!1}},computed:{cssClass:function(){return{"page-mode":this.pageMode}},heights:function(){if(null===this.itemHeight){for(var e={"-1":{accumulator:0}},t=this.items,n=this.heightField,i=this.minItemHeight,o=0,r=void 0,s=0,a=t.length;s<a;s++)o+=r=t[s][n]||i,e[s]={accumulator:o,height:r};return e}}},beforeDestroy:function(){this.removeListeners()},methods:{getListenerTarget:function(){var e=b(this.$el);return e===window.document.documentElement&&(e=window),e},getScroll:function(){var e=this.$el,t=void 0;if(this.pageMode){var n=e.getBoundingClientRect(),i=-n.top,o=window.innerHeight;i<0&&(o+=i,i=0),i+o>n.height&&(o=n.height-i),t={top:i,bottom:i+o}}else t={top:e.scrollTop,bottom:e.scrollTop+e.clientHeight};return t},applyPageMode:function(){this.pageMode?this.addListeners():this.removeListeners()},addListeners:function(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!g&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners:function(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem:function(e){var t=void 0;t=null===this.itemHeight?e>0?this.heights[e-1].accumulator:0:e*this.itemHeight,this.scrollToPosition(t)},scrollToPosition:function(e){this.$el.scrollTop=e},itemsLimitError:function(){var e=this;throw setTimeout(function(){console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",e.$el),console.log("Make sure the scroller has a fixed height and 'overflow-y' set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")}}},k={name:"VirtualScroller",mixins:[_],props:{renderers:{type:Object,default:null},keyField:{type:String,default:"id"},mainTag:{type:String,default:"div"},containerTag:{type:String,default:"div"},containerClass:{type:[String,Array,Object],default:null},contentTag:{type:String,default:"div"},contentClass:{type:[String,Array,Object],default:null},poolSize:{type:[Number,String],default:2e3},delayPreviousItems:{type:Boolean,default:!1}},data:function(){return{visibleItems:[],itemContainerStyle:null,itemsStyle:null,keysEnabled:!0}},watch:{items:{handler:function(){this.updateVisibleItems(!0)},deep:!0},pageMode:function(){this.applyPageMode(),this.updateVisibleItems(!0)},itemHeight:"setDirty"},created:function(){this.$_ready=!1,this.$_startIndex=0,this.$_oldScrollTop=null,this.$_oldScrollBottom=null,this.$_offsetTop=0,this.$_height=0,this.$_scrollDirty=!1,this.$_updateDirty=!1;var e=parseInt(this.prerender);e>0?(this.visibleItems=this.items.slice(0,e),this.$_length=this.visibleItems.length,this.$_endIndex=this.$_length-1,this.$_skip=!0):(this.$_endIndex=0,this.$_length=0,this.$_skip=!1)},mounted:function(){var e=this;this.applyPageMode(),this.$nextTick(function(){e.updateVisibleItems(!0),e.$_ready=!0})},methods:{updateVisibleItems:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$_updateDirty||(this.$_updateDirty=!0,this.$nextTick(function(){e.$_updateDirty=!1;var n=e.items.length,o=e.getScroll(),r=e.items,s=e.itemHeight,a=void 0,l=void 0;if(o){var u=-1,c=-1,d=parseInt(e.buffer),f=parseInt(e.poolSize),h=~~(o.top/f)*f-d,m=Math.ceil(o.bottom/f)*f+d;if(!t&&(h===e.$_oldScrollTop&&m===e.$_oldScrollBottom||e.$_skip))return void(e.$_skip=!1);if(e.$_oldScrollTop=h,e.$_oldScrollBottom=m,null===s){var p=e.heights,v=0,b=n-1,g=~~(n/2),y=void 0;do{y=g,p[g].accumulator<h?v=g:g<n-1&&p[g+1].accumulator>h&&(b=g),g=~~((v+b)/2)}while(g!==y);for(g<0&&(g=0),u=g,l=g>0?p[g-1].accumulator:0,a=p[n-1].accumulator,c=g;c<n&&p[c].accumulator<m;c++);-1===c?c=r.length-1:++c>n&&(c=n)}else u=~~(h/s),c=Math.ceil(m/s),u<0&&(u=0),c>n&&(c=n),l=u*s,a=n*s;c-u>i.itemsLimit&&e.itemsLimitError(),(t||e.$_startIndex!==u||e.$_endIndex!==c||e.$_offsetTop!==l||e.$_height!==a||e.$_length!==n)&&(e.keysEnabled=!(u>e.$_endIndex||c<e.$_startIndex),e.itemContainerStyle={height:a+"px"},e.itemsStyle={marginTop:l+"px"},e.delayPreviousItems?(e.visibleItems=r.slice(e.$_startIndex,c),e.$nextTick(function(){e.visibleItems=r.slice(u,c)})):e.visibleItems=r.slice(u,c),e.emitUpdate&&e.$emit("update",u,c),e.$_startIndex=u,e.$_endIndex=c,e.$_length=n,e.$_offsetTop=l,e.$_height=a)}}))},setDirty:function(){this.$_oldScrollTop=null,this.$_oldScrollBottom=null},handleScroll:function(){var e=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(function(){e.$_scrollDirty=!1,e.updateVisibleItems()}))},handleResize:function(){this.$emit("resize"),this.$_ready&&this.updateVisibleItems()},handleVisibilityChange:function(e,t){var n=this;this.$_ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height)&&(this.$emit("visible"),this.$nextTick(function(){n.updateVisibleItems()}))}}},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.mainTag,{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.handleVisibilityChange,expression:"handleVisibilityChange"}],tag:"component",staticClass:"virtual-scroller",class:e.cssClass,on:{"&scroll":function(t){return e.handleScroll(t)}}},[e._t("before-container"),e._v(" "),n(e.containerTag,{ref:"itemContainer",tag:"component",staticClass:"item-container",class:e.containerClass,style:e.itemContainerStyle},[e._t("before-content"),e._v(" "),n(e.contentTag,{ref:"items",tag:"component",staticClass:"items",class:e.contentClass,style:e.itemsStyle},[e.renderers?e._l(e.visibleItems,function(t,i){return n(e.renderers[t[e.typeField]],{key:e.keysEnabled&&t[e.keyField]||void 0,tag:"component",staticClass:"item",attrs:{item:t,"item-index":e.$_startIndex+i}})}):[e._l(e.visibleItems,function(t,n){return e._t("default",null,{item:t,itemIndex:e.$_startIndex+n,itemKey:e.keysEnabled&&t[e.keyField]||void 0})})]],2),e._v(" "),e._t("after-content")],2),e._v(" "),e._t("after-container"),e._v(" "),n("resize-observer",{on:{notify:e.handleResize}})],2)};w._withStripped=!0;function x(){var e=document.head||document.getElementsByTagName("head")[0],t=x.styles||(x.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(i,o){if(!document.querySelector('style[data-vue-ssr-id~="'+i+'"]')){var r=n?o.media||"default":i,s=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!s.ids.includes(i)){var a=o.source,l=s.ids.length;if(s.ids.push(i),n&&(s.element=s.element||document.querySelector("style[data-group="+r+"]")),!s.element){var u=s.element=document.createElement("style");u.type="text/css",o.media&&u.setAttribute("media",o.media),n&&(u.setAttribute("data-group",r),u.setAttribute("data-next-index","0")),e.appendChild(u)}if(n&&(l=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",l+1)),s.element.styleSheet)s.parts.push(a),s.element.styleSheet.cssText=s.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(a),d=s.element.childNodes;d[l]&&s.element.removeChild(d[l]),d.length?s.element.insertBefore(c,d[l]):s.element.appendChild(c)}}}}}var S=function(e,t,n,i,o,r,s,a){var l=("function"==typeof n?n.options:n)||{};l.__file="/home/akryum/Projets/vue-virtual-scroller/src/components/VirtualScroller.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),l._scopeId=i;var u=void 0;if(t&&(u=function(e){t.call(this,s(e))}),void 0!==u)if(l.functional){var c=l.render;l.render=function(e,t){return u.call(t),c(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,u):[u]}return l}({render:w,staticRenderFns:[]},function(e){e&&e("data-v-caa2d078_0",{source:"\n.virtual-scroller[data-v-caa2d078]:not(.page-mode) {\n  overflow-y: auto;\n}\n.item-container[data-v-caa2d078] {\n  box-sizing: border-box;\n  width: 100%;\n  overflow: hidden;\n}\n.items[data-v-caa2d078] {\n  width: 100%;\n}\n",map:void 0,media:void 0})},void 0===k?{}:k,"data-v-caa2d078",!1,0,x,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__),$=0,M={name:"RecycleList",mixins:[_],props:{itemHeight:{type:Number,default:null},keyField:{type:String,default:null}},data:function(){return{pool:[],totalHeight:0}},watch:{items:function(){this.updateVisibleItems(!0)},pageMode:function(){this.applyPageMode(),this.updateVisibleItems(!1)},heights:{handler:function(){this.updateVisibleItems(!1)},deep:!0}},created:function(){this.$_ready=!1,this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1},mounted:function(){var e=this;this.applyPageMode(),this.$nextTick(function(){e.updateVisibleItems(!0),e.$_ready=!0})},methods:{addView:function(e,t,n,i,o){var r={item:n,top:0},s={id:$++,index:t,used:!0,key:i,type:o};return Object.defineProperty(r,"nr",{configurable:!1,value:s}),e.push(r),r},unuseView:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.$_unusedViews,i=e.nr.type,o=n.get(i);o||(o=[],n.set(i,o)),o.push(e),t||(e.nr.used=!1,e.top=-9999,this.$_views.delete(e.nr.key))},handleResize:function(){this.$emit("resize"),this.$_ready&&this.updateVisibleItems(!1)},handleScroll:function(e){var t=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(function(){t.$_scrollDirty=!1,t.updateVisibleItems(!1).continuous||(clearTimeout(t.$_refreshTimout),t.$_refreshTimout=setTimeout(t.handleScroll,100))}))},handleVisibilityChange:function(e,t){var n=this;this.$_ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height)&&(this.$emit("visible"),requestAnimationFrame(function(){n.updateVisibleItems(!1)}))},updateVisibleItems:function(e){var t=this.getScroll(),n=parseInt(this.buffer);t.top-=n,t.bottom+=n;var o=this.itemHeight,r=this.typeField,s=this.keyField,a=this.items,l=a.length,u=this.heights,c=this.$_views,d=this.$_unusedViews,f=this.pool,h=void 0,m=void 0,p=void 0;if(l)if(null===o){var v=0,b=l-1,g=~~(l/2),y=void 0;do{y=g,u[g].accumulator<t.top?v=g:g<l-1&&u[g+1].accumulator>t.top&&(b=g),g=~~((v+b)/2)}while(g!==y);for(g<0&&(g=0),h=g,p=u[l-1].accumulator,m=g;m<l&&u[m].accumulator<t.bottom;m++);-1===m?m=a.length-1:++m>l&&(m=l)}else h=~~(t.top/o),m=Math.ceil(t.bottom/o),h<0&&(h=0),m>l&&(m=l),p=l*o;else h=m=p=0;m-h>i.itemsLimit&&this.itemsLimitError(),this.totalHeight=p;var _=void 0,k=h<=this.$_endIndex&&m>=this.$_startIndex,w=void 0;if(this.$_continuous!==k){if(k){c.clear(),d.clear();for(var x=0,S=f.length;x<S;x++)_=f[x],this.unuseView(_)}this.$_continuous=k}else if(k)for(var $=0,M=f.length;$<M;$++)(_=f[$]).nr.used&&(e&&(_.nr.index=a.findIndex(function(e){return s?e[s]===_.item[s]:e===_.item})),(-1===_.nr.index||_.nr.index<h||_.nr.index>m)&&this.unuseView(_));k||(w=new Map);for(var C=void 0,I=void 0,O=void 0,T=void 0,j=h;j<m;j++){C=a[j];var A=s?C[s]:C;_=c.get(A),o||u[j].height?(_?_.nr.used=!0:(I=C[r],k?(O=d.get(I))&&O.length?((_=O.pop()).item=C,_.nr.used=!0,_.nr.index=j,_.nr.key=A,_.nr.type=I):_=this.addView(f,j,C,A,I):(O=d.get(I),T=w.get(I)||0,O&&T<O.length?((_=O[T]).item=C,_.nr.used=!0,_.nr.index=j,_.nr.key=A,_.nr.type=I,w.set(I,T+1)):(_=this.addView(f,j,C,A,I),this.unuseView(_,!0)),T++),c.set(A,_)),_.top=null===o?u[j-1].accumulator:j*o):_&&this.unuseView(_)}return this.$_startIndex=h,this.$_endIndex=m,this.emitUpdate&&this.$emit("update",h,m),{continuous:k}}}},C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"recycle-list",class:e.cssClass,on:{"&scroll":function(t){return e.handleScroll(t)}}},[n("div",{ref:"wrapper",staticClass:"item-wrapper",style:{height:e.totalHeight+"px"}},e._l(e.pool,function(t){return n("div",{key:t.nr.id,staticClass:"item-view",style:{transform:"translateY("+t.top+"px)"}},[e._t("default",null,{item:t.item,index:t.nr.index,active:t.nr.used})],2)})),e._v(" "),e._t("after-container"),e._v(" "),n("resize-observer",{on:{notify:e.handleResize}})],2)};C._withStripped=!0;function I(){var e=document.head||document.getElementsByTagName("head")[0],t=I.styles||(I.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(i,o){if(!document.querySelector('style[data-vue-ssr-id~="'+i+'"]')){var r=n?o.media||"default":i,s=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!s.ids.includes(i)){var a=o.source,l=s.ids.length;if(s.ids.push(i),n&&(s.element=s.element||document.querySelector("style[data-group="+r+"]")),!s.element){var u=s.element=document.createElement("style");u.type="text/css",o.media&&u.setAttribute("media",o.media),n&&(u.setAttribute("data-group",r),u.setAttribute("data-next-index","0")),e.appendChild(u)}if(n&&(l=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",l+1)),s.element.styleSheet)s.parts.push(a),s.element.styleSheet.cssText=s.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(a),d=s.element.childNodes;d[l]&&s.element.removeChild(d[l]),d.length?s.element.insertBefore(c,d[l]):s.element.appendChild(c)}}}}}var O=function(e,t,n,i,o,r,s,a){var l=("function"==typeof n?n.options:n)||{};l.__file="/home/akryum/Projets/vue-virtual-scroller/src/components/RecycleList.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),l._scopeId=i;var u=void 0;if(t&&(u=function(e){t.call(this,s(e))}),void 0!==u)if(l.functional){var c=l.render;l.render=function(e,t){return u.call(t),c(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,u):[u]}return l}({render:C,staticRenderFns:[]},function(e){e&&e("data-v-0ff19954_0",{source:"\n.recycle-list[data-v-0ff19954]:not(.page-mode) {\n  overflow-y: auto;\n}\n.item-wrapper[data-v-0ff19954] {\n  box-sizing: border-box;\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n}\n.item-view[data-v-0ff19954] {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform;\n}\n",map:void 0,media:void 0})},void 0===M?{}:M,"data-v-0ff19954",!1,0,I,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__);var T={version:"0.12.0",install:function(e,t){var n=Object.assign({},{installComponents:!0,componentsPrefix:""},t);for(var o in n)void 0!==n[o]&&(i[o]=n[o]);n.installComponents&&function(e,t){e.component(t+"virtual-scroller",S),e.component(t+"recycle-list",O)}(e,n.componentsPrefix)}},j=null;"undefined"!=typeof window?j=window.Vue:void 0!==e&&(j=e.Vue),j&&j.use(T),t.default=T}.call(this,n(65))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default={name:"gkTableCell",components:{GkCheckbox:i.default},props:{column:Object,data:Object,index:Number,isChecked:Boolean},render:function(e){var t=this,n=this.column,i=void 0;if(n.render)i=this.column.render(this.data);else if(n.checkbox)i=e("gk-checkbox",{props:{"is-checked":this.isChecked},nativeOn:{click:function(e){t.$emit("check",t.data,t.index,e)},dblclick:function(e){e.stopPropagation()}}});else if(n.property){var o=this.data[n.property];i=this.column.formatter?this.column.formatter(o,this.data):o}return e("td",{style:n.columnStyle,class:{"gk-table-checkbox":n.checkbox}},[i])},computed:{label:function(){var e=this.data[this.column.property];return this.column.formatter?this.column.formatter(e,this.data):e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(29));t.default={install:function(e){e.directive("gloading",i.default)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(30));t.default={install:function(e){e.directive("gscroll-load",i.default)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(51));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(28));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(47));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(48));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(49));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(50));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(52));t.default={install:function(e){e.directive("gtooltip",i.default)}}}])});
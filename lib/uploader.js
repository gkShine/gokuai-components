module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=81)}([function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,l){var c,s="function"==typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),i&&(s.functional=!0),o&&(s._scopeId="data-v-"+o),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},s._ssrRegister=c):r&&(c=l?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(s.functional){s._injectStyles=c;var u=s.render;s.render=function(e,t){return c.call(t),u(e,t)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:s}}n.d(t,"a",function(){return i})},,,,function(e,t,n){"use strict";n.r(t);var i=n(5),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"GkCheckbox",props:{"is-checked":Boolean},data:function(){return{checked:this.isChecked}},methods:{changeValue:function(){this.checked=this.$refs.checkbox.checked}}}},,,,function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("input",{ref:"checkbox",staticClass:"gk-checkbox",class:{"gk-checkbox-checked":this.checked},attrs:{"aria-checked":this.checked,type:"checkbox"},domProps:{checked:this.checked},on:{change:this.changeValue}})},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";function i(e,t){t=t||"yyyy-MM-dd hh:mm:ss";var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.bitSize=function(e){if(void 0===e||"-"===e)return e;"number"!=typeof e&&(e=Number(e));if(e<0)return"";var t=["B","KB","MB","GB","TB","PB"],n=0;for(;e>=1024;){if(n>=5)return e+t[n];e/=1024,n++}return 0===e?e:Math.round(100*e)/100+t[n]},t.strToB=function(e){var t=(e=e.toUpperCase()).match(/[A-Z]+/i)[0],n=e.match(/[0-9]+/)[0];switch(t){case"KB":case"K":n*=1024;break;case"MB":case"M":n*=1048576;break;case"GB":case"G":n*=1073741824;break;case"TB":case"T":n*=1099511627776;break;case"PB":case"P":n*=0x4000000000000;break;case"EB":case"E":n*=0x1000000000000000}return n},t.formatDate=i,t.timeToDate=function(e,t){return i(new Date(e),t)},t.getOS=function(){var e="Others";navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1?e="Android":navigator.userAgent.indexOf("iPhone")>-1?e="iOS":navigator.userAgent.indexOf("Windows Phone")>-1?e="WP":window.navigator.userAgent.indexOf("Windows NT")>-1?e="Windows":window.navigator.userAgent.indexOf("Mac")>-1?e="Mac":window.navigator.userAgent.indexOf("X11")>-1?e="UNIX":window.navigator.userAgent.indexOf("Linux")>-1&&(e="Linux");return e},t.isIE=function(){var e=navigator.userAgent.toLowerCase();if(e.indexOf("msie")>-1)return e.match(/msie ([\d.]+)/)[1];return!1}},,,,function(e,t,n){"use strict";n.r(t);var i=n(15),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(41),o=c(n(42)),a=c(n(23)),l=c(n(24));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkTable",directives:{loading:a.default,scrollLoad:l.default},components:{GkTableCell:o.default,VirtualScroller:r.VirtualScroller},props:{"show-more":Boolean,"show-header":Boolean,"show-checkbox":Boolean,"default-index":Number|Array,"default-checked-index":{type:Array,default:function(){return[]}},"more-text":{type:String,default:"loading..."},height:Number,loading:Boolean,fit:Boolean,data:{type:Array,required:!0},itemHeight:{type:Number,default:42}},data:function(){var e=this,t={},n={};return"object"===i(this.defaultIndex)?this.defaultIndex.forEach(function(n){t[n]=e.data[n]}):t[this.defaultIndex]=this.data[this.defaultIndex],this.defaultCheckedIndex.forEach(function(t){n[t]=e.data[t]}),{page:1,selected:t,lastSelectedIndex:-1,checked:n,showAllCheckbox:!1,hasScrollbar:!1,clickTimer:!1,clickItem:!1}},computed:{computedStyle:function(){var e={};if(!this.fit&&this.height){var t=this.height;if(this.showHeader){var n=window.getComputedStyle(this.$refs.thead.querySelector("th:first-child")).height;t-=parseInt(n)}e.height=t+"px"}return e},tableStyle:function(){var e={};return this.fit?e:(this.height&&(e.height=this.height+"px"),e)},columns:function(){var e=this,t=[];return this.$children.forEach(function(n){n.isTableColumn&&t.push(Object.assign({columnStyle:Object.assign({height:e.itemHeight+"px"},n.columnStyle),render:n.$scopedSlots.default},n.$props))}),t}},methods:{loadMore:function(e){this.$emit("loadMore",e)},handleSelect:function(e,t,n){var i=this;this.clickItem=!0,clearTimeout(this.clickTimer),this.clickTimer=setTimeout(function(){if(n&&(n.ctrlKey||n.metaKey)){var r=i.selected;i.selected={},void 0===r[t]?(r[t]=e,i.selected=r,i.lastSelectedIndex=t,i.$emit("select",e,t,n)):(delete r[t],i.selected=r,i.$emit("select",null,null,n))}else if(i.selected={},n&&n.shiftKey&&i.lastSelectedIndex>-1)for(var o=Math.min(t,i.lastSelectedIndex);o<=Math.max(t,i.lastSelectedIndex);o++)i.selected[o]=i.data[o];else{if(void 0!==i.selected[t])return;i.selected[t]=e,i.lastSelectedIndex=t,i.$emit("select",e,t,n)}i.clickItem=!1},20)},handleCancelSelect:function(){this.clickItem||(this.selected={},this.$emit("select",null,null,event))},handleSelectAll:function(){var e={};for(var t in this.data)e[t]=this.data[t];this.selected=e},handleDbclick:function(e,t,n){clearTimeout(this.clickTimer),this.$emit("dblclick",e,t,n)},handleCheck:function(e,t,n){n.target.checked?this.checked[t]=e:delete this.checked[t],!this.showCheckbox&&(this.showAllCheckbox=Object.keys(this.checked).length>0)},handleCheckAll:function(e){for(var t=this.$refs.table.$el.querySelectorAll(".gk-table-checkbox > :first-child"),n=0;n<t.length;n++)t[n].checked=e,e?t[n].classList.add("gk-checkbox-checked"):t[n].classList.remove("gk-checkbox-checked");this.checked=e?this.data:[]},handleContextmenu:function(e,t,n){-1!==Object.keys(this.$listeners).indexOf("contextmenu")&&(this.$emit("contextmenu",e,t,n),n.stopPropagation(),n.preventDefault())},handleSelectPrevNext:function(e){var t=Object.keys(this.selected);if(1!==t.length)return!1;var n=parseInt(t[0])+e;if(n<0||n>this.data.length-1)return!1;this.handleSelect(this.data[n],n)},setScrollbar:function(){if(this.$refs.table){var e=this.$refs.table.$el;this.hasScrollbar=this.itemHeight*this.data.length>e.clientHeight}},watchScrollbar:function(){var e=this;this.setScrollbar();var t=0;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){e.setScrollbar()},5)})},getSelected:function(){return Object.values(this.selected)},getSelectedIndex:function(){return Object.keys(this.selected)},getChecked:function(){return Object.values(this.checked)}},mounted:function(){var e=this;this.watchScrollbar(),document.addEventListener("keydown",function(t){(t.ctrlKey||t.metaKey)&&"KeyA"===t.code?(e.handleSelectAll(),t.preventDefault()):"ArrowUp"===t.code?e.handleSelectPrevNext(-1):"ArrowDown"===t.code&&e.handleSelectPrevNext(1)})}}},function(e,t,n){"use strict";n.r(t);var i=n(17),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(18));t.default={name:"gkTableColumn",components:{GkCheckbox:i.default},data:function(){return{isTableColumn:!0}},props:{label:String,width:Number|String,checkbox:Boolean,property:String,align:{type:String,default:"left"},formatter:Function},computed:{columnStyle:function(){return{width:"number"==typeof this.width?this.width+"px":this.width,"text-align":this.align}}},methods:{checkAll:function(e){var t=e.target;this.$parent.handleCheckAll(t.checked)}}}},function(e,t,n){"use strict";n.r(t);var i=n(9),r=n(4);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),l=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);l.options.__file="packages/checkbox/src/checkbox.vue",t.default=l.exports},,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",{class:{"gk-table-checkbox":e.checkbox},style:e.columnStyle},[e.checkbox?n("gk-checkbox",{attrs:{type:"checkbox"},nativeOn:{click:function(t){e.checkAll(t)}}}):n("span",[e._v(e._s(e.label))])],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"gk-table",class:{"gk-table-with-header":e.showHeader,"gk-table-fit":e.fit,"gk-table-show-checkbox":e.showAllCheckbox||e.showCheckbox},style:e.tableStyle},[n("table",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],ref:"thead",staticClass:"gk-table-header"},[n("thead",[n("tr",[e._t("default"),e._v(" "),e.hasScrollbar?n("th",{staticClass:"gk-table-header-last"}):e._e()],2)])]),e._v(" "),n("virtual-scroller",{directives:[{name:"scroll-load",rawName:"v-scroll-load",value:e.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"gk-table-virtual gk-scrollbar",style:e.computedStyle,attrs:{contentClass:"gk-table-body",items:e.data,"content-tag":"table","item-height":e.itemHeight},nativeOn:{contextmenu:function(t){e.handleContextmenu(null,null,t)},click:function(t){e.handleCancelSelect()}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("tr",{staticClass:"gk-table-item",class:{"gk-table-item-active":void 0!==e.selected[t.itemIndex]},on:{click:function(n){e.handleSelect(t.item,t.itemIndex,n)},dblclick:function(n){e.handleDbclick(t.item,t.itemIndex,n)},contextmenu:function(n){e.handleContextmenu(t.item,t.itemIndex,n)}}},e._l(e.columns,function(i,r){return n("gk-table-cell",{key:r,attrs:{"is-checked":void 0!==e.checked[t.itemIndex],index:t.itemIndex,data:t.item,column:i},on:{check:e.handleCheck}})}))]}}])}),e._v(" "),e.showMore?n("div",{staticClass:"gk-table-more"},[n("span",{staticClass:"gk-table-more-text"},[e._v(e._s(e.moreText))])]):e._e()],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={show:function(e){var t=this;if(!this.exist){var n=window.getComputedStyle(e).position;"static"!==n&&""!==n||(this.static=!0,e.style.position="relative");var i=document.createElement("div");i.className="gk-loading-wrapper",!1!==this.options.bg&&(i.style.backgroundColor=this.options.bg),e.appendChild(i);var r=document.createElement("div");if(r.className="gk-loading",r.innerHTML='<svg style="styles" class="gk-loading-spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>',i.appendChild(r),!1!==this.options.text){r.classList.add("gk-loading-text");var o=document.createElement("p");o.textContent=this.options.text,r.appendChild(o)}this.box=i}window.requestAnimationFrame(function(){t.box.style.opacity="1"})},hide:function(e){var t=this;this.box.addEventListener("transitionend",function(){t.box.remove(),t.exist=!1,t.static&&e.style.removeProperty("position")}),this.box.style.opacity="0.01"},bind:function(e,t){var n=t.def;n.static=!1,n.box=null,n.exist=!1,n.options={bg:e.getAttribute("gk-loading-background")||!1,text:e.getAttribute("gk-loading-text")||!1}},update:function(e,t){var n=t.def;if(t.value)n.show(e),n.exist=!0;else{if(!n.exist)return;n.hide(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bind:function(e,t){var n=0,i=new Function("return {"+(e.getAttribute("gk-scroll-load-option")||"")+"}")();!1!==(i=Object.assign({distance:20,page:1,disabled:!1,frequency:200,selector:!1},i)).selector&&e.querySelector(i.selector).length&&(e=e.querySelector(i.selector));var r=function(){e.scrollTop+e.clientHeight+i.distance>=e.scrollHeight&&"function"==typeof t.value&&t.value(++i.page)};r(),e.onscroll=function(){i.disabled||(clearTimeout(n),n=setTimeout(function(){r()},i.frequency))}},update:function(e,t){}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(21),r=n(14);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),l=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);l.options.__file="packages/table/src/table.vue",t.default=l.exports},function(e,t){e.exports=require("vue-virtual-scroller")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(18));t.default={name:"gkTableCell",components:{GkCheckbox:i.default},props:{column:Object,data:Object,index:Number,isChecked:Boolean},render:function(e){var t=this,n=this.column,i=void 0;if(n.render)i=this.column.render(this.data);else if(n.checkbox)i=e("gk-checkbox",{props:{"is-checked":this.isChecked},nativeOn:{click:function(e){t.$emit("check",t.data,t.index,e)},dblclick:function(e){e.stopPropagation()}}});else if(n.property){var r=this.data[n.property];i=this.column.formatter?this.column.formatter(r,this.data):r}return e("td",{style:n.columnStyle,class:{"gk-table-checkbox":n.checkbox}},[i])},computed:{label:function(){var e=this.data[this.column.property];return this.column.formatter?this.column.formatter(e,this.data):e}}}},function(e,t,n){"use strict";n.r(t);var i=n(20),r=n(16);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),l=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);l.options.__file="packages/table/src/table-column.vue",t.default=l.exports},,,,,function(e,t,n){"use strict";n.r(t);var i=n(49),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(83)),r=c(n(84)),o=c(n(40)),a=c(n(43)),l=n(10);function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkUploader",components:{GkTable:o.default,GkTableColumn:a.default},props:{mode:{type:String,default:"full"},auto:{type:Boolean,default:!1},server:{type:String,required:!0},buttons:{type:String,default:"bottom"},selector:String,height:{type:Number,default:400}},data:function(){return{headLabel:"已选择n个",list:[]}},computed:{isFull:function(){return"full"===this.mode}},methods:{formatSize:function(e){return(0,l.bitSize)(e)},webUpload:function(e){var t=this;i.default.create({auto:this.auto,swf:r.default,server:this.server,pick:{id:e,multiple:!0}}).on("fileQueued",function(e){t.list.push({id:e.id,name:e.name,size:e.size}),t.headLabel=t.headLabel.replace("n",t.list.length),t.$emit("before",e)})}},mounted:function(){if(this.selector)this.webUpload(this.selector);else if(this.webUpload(".gk-file-uploader"),!(0,l.isIE)()){this.webUpload(".gk-folder-uploader");var e=setInterval(function(){var t=document.querySelector(".gk-folder-uploader input");t&&(t.setAttribute("webkitdirectory",""),clearInterval(e))},10)}}}},,,,,,,,,,,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gk-uploader"},[n("gk-table",{attrs:{data:e.list,"show-header":e.isFull,"show-checkbox":e.isFull,height:e.height}},[n("gk-table-column",{attrs:{checkbox:e.isFull,width:30,align:"center"}}),e._v(" "),n("gk-table-column",{attrs:{property:"name",label:e.headLabel}}),e._v(" "),n("gk-table-column",{attrs:{property:"size",formatter:e.formatSize}}),e._v(" "),n("gk-table-column")],1)],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(82));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(60),r=n(48);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),l=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);l.options.__file="packages/uploader/src/uploader.vue",t.default=l.exports},function(e,t){e.exports=require("webuploader")},function(e,t){e.exports=require("webuploader/dist/Uploader.swf")}]);
module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var c=t[i]={i:i,l:!1,exports:{}};return e[i].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(i,c,function(t){return e[t]}.bind(null,c));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=97)}({0:function(e,t,n){"use strict";function i(e,t,n,i,c,r,l,o){var s,a="function"==typeof e?e.options:e;if(t&&(a.render=t,a.staticRenderFns=n,a._compiled=!0),i&&(a.functional=!0),r&&(a._scopeId="data-v-"+r),l?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),c&&c.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},a._ssrRegister=s):c&&(s=o?function(){c.call(this,this.$root.$options.shadowRoot)}:c),s)if(a.functional){a._injectStyles=s;var d=a.render;a.render=function(e,t){return s.call(t),d(e,t)}}else{var u=a.beforeCreate;a.beforeCreate=u?[].concat(u,s):[s]}return{exports:e,options:a}}n.d(t,"a",function(){return i})},10:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("input",{ref:"checkbox",staticClass:"gk-checkbox",class:{"gk-checkbox-checked":this.checked},attrs:{"aria-checked":this.checked,type:"checkbox"},domProps:{checked:this.checked},on:{change:this.changeChecked}})},c=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c})},11:function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},15:function(e,t,n){"use strict";n.r(t);var i=n(10),c=n(4);for(var r in c)"default"!==r&&function(e){n.d(t,e,function(){return c[e]})}(r);var l=n(0),o=Object(l.a)(c.default,i.a,i.b,!1,null,null,null);o.options.__file="packages/checkbox/src/checkbox.vue",t.default=o.exports},16:function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},3:function(e,t){e.exports=require("babel-runtime/core-js/object/values")},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gk-loading",show:function(e){var t=this;if(!this.exist){var n=window.getComputedStyle(e).position;"static"!==n&&""!==n||(this.static=!0,e.style.position="relative"),e.classList.add("gk-loading-scope");var i=document.createElement("div");i.className="gk-loading-wrapper",i.style.top=e.scrollTop+"px",i.style.left=e.scrollLeft+"px",i.style.bottom=-e.scrollTop+"px",i.style.right=-e.scrollLeft+"px",!1!==this.options.bg&&(i.style.backgroundColor=this.options.bg),e.appendChild(i);var c=document.createElement("div");if(c.className="gk-loading",c.innerHTML='<svg style="styles" class="gk-loading-spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>',i.appendChild(c),!1!==this.options.text){c.classList.add("gk-loading-text");var r=document.createElement("p");r.textContent=this.options.text,c.appendChild(r)}this.box=i}this.exist=!0,window.requestAnimationFrame(function(){t.box.style.opacity="1"})},hide:function(e){var t=this;e.classList.remove("gk-loading-scope"),this.box.addEventListener("transitionend",function(){t.box.remove(),t.box=null,t.exist=!1,t.static&&e.style.removeProperty("position")}),this.box.style.opacity="0.01"},bind:function(e,t){var n=t.def;n.box=null,n.static=n.exist=!1,n.options={bg:e.getAttribute("gk-loading-background")||!1,text:e.getAttribute("gk-loading-text")||!1}},update:function(e,t){var n=t.def;if(t.oldValue!==t.value)if(t.value)n.show(e);else{if(!n.exist)return;n.hide(e)}}}},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(11));t.default={name:"gk-scroll-load",bind:function(e,t){var n=0,c=new Function("return {"+(e.getAttribute("gk-scroll-load-option")||"")+"}")();!1!==(c=(0,i.default)({distance:20,disabled:!1,frequency:200,selector:!1},c)).selector&&e.querySelector(c.selector).length&&(e=e.querySelector(c.selector));var r=function(){e.scrollTop&&e.scrollTop+e.clientHeight+c.distance>=e.scrollHeight&&"function"==typeof t.value&&t.value()};r(),e.onscroll=function(){c.disabled||(clearTimeout(n),n=setTimeout(function(){r()},c.frequency))}},update:function(e,t){}}},4:function(e,t,n){"use strict";n.r(t);var i=n(5),c=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=c.a},41:function(e,t,n){"use strict";n.r(t);var i=n(42),c=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=c.a},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(16)),c=o(n(3)),r=o(n(46)),l=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkThumbnail",mixins:[r.default],components:{GkThumbnailItem:l.default},props:{"show-more":Boolean,"more-text":{type:String,default:"loading..."},data:Array,property:String,border:Number,checkbox:Boolean,size:{type:Object,default:function(){return{w:148,h:180}}}},data:function(){return{}},computed:{style:function(){return{border:this.border+"px"}}},methods:{getLineSize:function(){var e=this.$refs.thumbnail;if(!e.childNodes.length)return 0;var t=e.childNodes[0];return parseInt((e.clientWidth-2*parseInt(window.getComputedStyle(e).padding))/(t.clientWidth+2*parseInt(window.getComputedStyle(t).margin)))},documentKeyDown:function(e){if(!1===this.handleShortcut(e))return!1;"ArrowLeft"===e.code?(this.handleSelectPrevNext(-1,e),e.preventDefault()):"ArrowRight"===e.code?(this.handleSelectPrevNext(1,e),e.preventDefault()):"ArrowUp"===e.code?(this.handleSelectPrevNext(-this.getLineSize(),e),e.preventDefault()):"ArrowDown"===e.code?(this.handleSelectPrevNext(+this.getLineSize(),e),e.preventDefault()):"Enter"===e.code&&(this.handleDbclick((0,c.default)(this.selected)[0],(0,i.default)(this.selected)[0],e),e.preventDefault())}}}},46:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(3)),c=a(n(16)),r=a(n(11)),l=a(n(37)),o=a(n(38)),s=n(8);function a(e){return e&&e.__esModule?e:{default:e}}t.default={directives:{loading:l.default,scrollLoad:o.default},props:{loading:Boolean,fit:Boolean,shortcut:Boolean,"right-selected":Boolean,"show-checkbox":Boolean,"before-select":Function,"scroll-on-check":Boolean,"scroll-on-select":Boolean,"default-index":Number|Array,"default-checked-index":{type:Number|Array,default:function(){return[]}},"select-on-check":{type:Boolean,default:!0},"check-on-select":{type:Boolean,default:!0}},data:function(){var e=(0,s.getSelected)(this.defaultIndex,this.data),t=(0,s.getSelected)(this.defaultCheckedIndex,this.data);return this.checkOnSelect&&(e=(0,r.default)(e,t)),this.selectOnCheck&&(t=(0,r.default)(t,e)),{scrollCheckAll:!1,scrollSelectAll:!1,lastSelectedIndex:-1,lastIndex:-1,clickTimer:!1,clickItem:!1,selected:e,checked:t}},watch:{data:"updateData"},methods:{handleSelect:function(e,t,n){var i=this;if("function"==typeof this.beforeSelect&&!this.beforeSelect(e,t,n))return!1;this.clickItem=!0,clearTimeout(this.clickTimer),this.clickTimer=setTimeout(function(){if(n&&(n.ctrlKey||n.metaKey)){var c=i.selected;i.selected={},void 0===c[t]?(c[t]=e,i.lastSelectedIndex=t,i.selected=c):(delete c[t],i.selected=c)}else if(i.selected={},n&&n.shiftKey&&i.lastSelectedIndex>-1)for(var r=Math.min(t,i.lastSelectedIndex);r<=Math.max(t,i.lastSelectedIndex);r++)i.selected[r]=i.data[r];else{if(void 0!==i.selected[t])return;i.selected[t]=e,i.lastSelectedIndex=t}i.clickItem=!1,i.lastIndex=t,i.updateChecked(),i.$emit("select",i.getSelected(),n)},20)},handleCancelSelect:function(e){this.clickItem||(this.selected={},this.lastIndex=-1,this.updateChecked(),this.$emit("select",null,e))},handleSelectAll:function(){this.selected=(0,r.default)({},this.data),this.lastIndex=this.data.length-1,this.updateChecked(),this.$emit("selectAll",event)},handleDblclick:function(e,t){clearTimeout(this.clickTimer),this.$emit("dblclick",e,t)},handleCheck:function(e,t,n){n.target.checked?this.checked[t]=e:delete this.checked[t],this.refreshCheckAllState(),(this.checkOnSelect||this.selectOnCheck)&&(this.updateSelected(t),n.stopPropagation()),this.$emit("check",this.getChecked(),n)},handleContextmenu:function(e,t,n){-1!==(0,c.default)(this.$listeners).indexOf("contextmenu")&&(this.rightSelected&&void 0===this.selected[t]&&this.handleSelect(e,t,n),this.$emit("contextmenu",this.getSelected(),n),n.stopPropagation(),n.preventDefault())},handleSelectPrevNext:function(e,t){if(-1===this.lastIndex)return!1;var n=parseInt(this.lastIndex)+e;if(n<0||n>this.data.length-1)return!1;this.handleSelect(this.data[n],n,t)},handleCheckAll:function(e){this.getCheckboxes().forEach(function(t){t.setChecked(e)}),this.checked=e?this.data:[],this.updateSelected(this.checked.length-1),this.$emit("checkAll",event)},handleShortcut:function(e){return(e.ctrlKey||e.metaKey)&&"KeyA"===e.code?(this.handleSelectAll(),e.preventDefault(),!1):("PgUp"===e.code?(this.handleSelect(this.data[0],0,e),e.preventDefault()):"End"!==e.code&&"PgDn"!==e.code||(this.handleSelect(this.data[this.data.length-1],this.data.length-1,e),e.preventDefault()),!!(0,c.default)(this.selected).length&&void 0)},loadMore:function(){this.scrollOnCheck&&(this.scrollCheckAll=(0,c.default)(this.checked).length===this.data.length),this.scrollOnSelect&&(this.scrollSelectAll=(0,c.default)(this.selected).length===this.data.length),this.$emit("load-more")},refreshCheckAllState:function(){return!1},updateChecked:function(){this.selectOnCheck&&(this.checked=(0,r.default)({},this.selected),this.refreshCheckAllState())},updateSelected:function(e){this.checkOnSelect&&(this.selected=(0,r.default)({},this.checked),this.lastIndex=e)},updateData:function(){this.checked=(0,s.intersect)(this.checked,this.data),this.selected=(0,s.intersect)(this.selected,this.data),this.scrollOnCheck&&this.scrollCheckAll&&(this.scrollCheckAll=!1,this.handleCheckAll(!0)),this.scrollOnSelect&&this.scrollSelectAll&&(this.scrollSelectAll=!1,this.selected=this.data),this.refreshCheckAllState()},getSelected:function(){return(0,i.default)(this.selected)},getSelectedIndex:function(){return(0,c.default)(this.selected)},getChecked:function(){return(0,i.default)(this.checked)},getCheckedIndex:function(){return(0,c.default)(this.checked)}},mounted:function(){this.shortcut&&document.addEventListener("keydown",this.documentKeyDown)},destroyed:function(){this.shortcut&&document.removeEventListener("keydown",this.documentKeyDown)}}},48:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"gk-thumbnail"},[e.data.length?[n("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"scroll-load",rawName:"v-scroll-load",value:e.loadMore,expression:"loadMore"}],ref:"thumbnail",staticClass:"gk-thumbnail-list gk-scrollbar",class:{"gk-thumbnail-fit":e.fit,"gk-thumbnail-checkbox":e.showCheckbox},on:{click:e.handleCancelSelect,contextmenu:function(t){e.handleContextmenu(null,null,t)}}},e._l(e.data,function(t,i){return n("gk-thumbnail-item",{key:i,class:{"gk-thumbnail-active-item":void 0!==e.selected[i]},style:e.style,attrs:{checkbox:e.checkbox,data:t,render:e.$scopedSlots.default,property:e.property,size:e.size,"is-checked":void 0!==e.checked[i]},on:{"change-checked":function(n){e.handleCheck(t,i,n)}},nativeOn:{click:function(n){e.handleSelect(t,i,n)},dblclick:function(n){e.handleDblclick(t,i,n)},contextmenu:function(n){e.handleContextmenu(t,i,n)}}})})),e._v(" "),e.showMore?n("div",{staticClass:"gk-thumbnail-more"},[n("span",{staticClass:"gk-thumbnail-more-text"},[e._v(e._s(e.moreText))])]):e._e()]:n("div",{class:{"gk-thumbnail-fit":e.fit}},[n("div",{staticClass:"gk-thumbnail-empty"},[e._t("empty")],2)])],2)},c=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c})},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"GkCheckbox",props:{"is-checked":Boolean},data:function(){return{checked:this.isChecked}},watch:{isChecked:"updateChecked"},methods:{updateChecked:function(){this.checked=this.isChecked},changeChecked:function(){this.checked=this.$refs.checkbox.checked},setChecked:function(e){this.checked=e}}}},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),c=r(n(15));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"GkThumbnailItem",components:{GkCheckbox:c.default},props:{render:Function,data:Object|String,property:String,size:Object,checkbox:Boolean,"is-checked":Boolean},render:function(e){var t=this,n=void 0;if(this.render)n=this.render(this.data);else{n=e("img",{attrs:{src:"object"===(0,i.default)(this.data)?this.data[this.property]:this.data}})}return e("li",{class:{"gk-thumbnail-item":!0},style:{width:this.size.w+"px",height:this.size.h+"px"}},[n,this.checkbox&&e("gk-checkbox",{class:"gk-thumbnail-checkbox",props:{isChecked:this.isChecked},nativeOn:{click:function(e){t.$emit("change-checked",e)}}})])}}},6:function(e,t){e.exports=require("babel-runtime/helpers/typeof")},70:function(e,t,n){"use strict";n.r(t);var i=n(48),c=n(41);for(var r in c)"default"!==r&&function(e){n.d(t,e,function(){return c[e]})}(r);var l=n(0),o=Object(l.a)(c.default,i.a,i.b,!1,null,null,null);o.options.__file="packages/thumbnail/src/thumbnail.vue",t.default=o.exports},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(6)),c=l(n(3)),r=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t=t||"yyyy-MM-dd hh:mm:ss";var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}t.bitSize=function(e,t){if(void 0===e||"-"===e)return e;"number"!=typeof e&&(e=Number(e));if(e<0)return"";var n=t&&["b","kb","mb","gb","tb","pb"]||["B","KB","MB","GB","TB","PB"],i=0;for(;e>=1024;){if(i>=5)return e+n[i];e/=1024,i++}return 0===e?e:Math.round(100*e)/100+n[i]},t.strToB=function(e){var t=(e=e.toUpperCase()).match(/[A-Z]+/i)[0],n=e.match(/[0-9]+/)[0];switch(t){case"KB":case"K":n*=1024;break;case"MB":case"M":n*=1048576;break;case"GB":case"G":n*=1073741824;break;case"TB":case"T":n*=1099511627776;break;case"PB":case"P":n*=0x4000000000000;break;case"EB":case"E":n*=0x1000000000000000}return n},t.formatDate=o,t.timeToDate=function(e,t){return o(new Date(e),t)},t.getOS=function(){var e="Others";navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1?e="Android":navigator.userAgent.indexOf("iPhone")>-1?e="iOS":navigator.userAgent.indexOf("Windows Phone")>-1?e="WP":window.navigator.userAgent.indexOf("Windows NT")>-1?e="Windows":window.navigator.userAgent.indexOf("Mac")>-1?e="Mac":window.navigator.userAgent.indexOf("X11")>-1?e="UNIX":window.navigator.userAgent.indexOf("Linux")>-1&&(e="Linux");return e},t.isIE=function(){var e=navigator.userAgent.toLowerCase();if(e.indexOf("msie")>-1)return e.match(/msie ([\d.]+)/)[1];return!1},t.intersect=function(e,t,n){var i={};for(var l in e)for(var o in t)if((0,r.default)(e[l])===(0,r.default)(t[o])){i[o]=e[l];break}return n?(0,c.default)(i):i},t.getSelected=function(e,t){var n={};if(void 0===e)return n;"object"===(void 0===e?"undefined":(0,i.default)(e))?e.forEach(function(e){n[e]=t[e]}):n[e]=t[e];return n},t.getExt=function(e){return e.slice(e.lastIndexOf(".")+1).toLowerCase()},t.baseName=function(e){return(e=e.toString()).replace(/\\/g,"/").replace(/.*\//,"")},t.dirName=function(e){return(e=e.toString()).indexOf("/")<0?"":e.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}},9:function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(70));i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default}});